# ğŸ¤” Purchase Debate

**Think Before You Buy** - A Chrome extension that adds intentional friction to online shopping by making you debate with an AI before completing any purchase.

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Platform](https://img.shields.io/badge/platform-Chrome-green.svg)
![AI](https://img.shields.io/badge/AI-Ollama%20%7C%20Claude%20%7C%20GPT--4-orange.svg)

**âœ¨ 100% FREE with Ollama** - Run AI debates locally on your computer with zero API costs.

---

## ğŸ¯ The Problem

We live in an age of **frictionless commerce**. One-click buying. Auto-fill payment. Saved addresses. Buy now, pay later. The entire e-commerce ecosystem is optimized to remove every obstacle between desire and purchase.

This is **addictive by design**.

The easier it is to buy, the less we think. And the less we think, the more we buy things we don't need, can't afford, or won't use. Impulse purchases add up - Americans spend an average of **$5,400 per year** on impulse buys, leading to financial stress, clutter, and buyer's remorse.

## ğŸ’¡ The Solution

**Purchase Debate** flips the script by adding **productive friction** back into the buying process.

Before you can complete any purchase, you must have a conversation with an AI that:
- Challenges your reasoning
- Questions your budget
- Explores alternatives
- Tests long-term value
- Makes you think critically

Only after you've made a compelling case does the AI approve your purchase. It's like having a thoughtful friend who asks, "Do you really need that?" - but one that's always there, never judgmental, and genuinely helps you make better decisions.

---

## ğŸ“š Product Thinking & Behavioral Design

### The Philosophy

This extension is built on insights from behavioral economics and design psychology:

#### 1. **Addictive by Design** (Natasha Dow SchÃ¼ll)
SchÃ¼ll's work on gambling machines reveals how systems are engineered to keep users engaged and spending. Modern e-commerce applies similar principles:
- **Frictionless flow**: Remove all barriers to spending
- **Variable rewards**: Flash sales, limited stock, surprise discounts
- **Loss aversion**: "Only 2 left!" "Sale ends soon!"

**Purchase Debate counters this** by intentionally adding friction at the point of maximum impulse.

#### 2. **System 1 vs System 2** (Daniel Kahneman - "Thinking, Fast and Slow")
- **System 1**: Fast, automatic, emotional (the impulse to buy)
- **System 2**: Slow, deliberate, rational (thoughtful decision-making)

Online shopping exploits System 1. **Purchase Debate activates System 2** by forcing conscious reflection.

#### 3. **The Hook Model** (Nir Eyal - "Hooked")
Eyal describes how products create habits through: Trigger â†’ Action â†’ Variable Reward â†’ Investment.

**Purchase Debate disrupts this loop** by inserting a **conscious pause** between trigger and action, breaking the automatic response.

#### 4. **Choice Architecture** (Richard Thaler - "Nudge")
Small design changes can dramatically influence behavior without restricting choice. This extension is a **"nudge"** that:
- Preserves freedom (you can still buy)
- Promotes better decisions (but makes you think first)
- Uses defaults wisely (minimum 3 questions)

### Why Debate? Why AI?

Traditional solutions to impulse buying fall into two categories:
1. **Willpower-based**: "Just don't buy!" (Doesn't work - willpower depletes)
2. **Blocking-based**: Remove credit cards, block sites (Too restrictive - removes agency)

**Purchase Debate takes a different approach:**

âœ… **Conversational**: Feels like a thoughtful discussion, not a lecture
âœ… **Engaging**: AI responses are dynamic and personalized
âœ… **Educational**: You learn to evaluate purchases better over time
âœ… **Empowering**: You maintain control - the AI can be convinced with good reasoning
âœ… **Fun**: There's a game-like quality to "winning" the debate

The AI acts as a **Socratic partner** - asking questions that help you discover your own answers rather than imposing rules.

### The Psychology of "Productive Friction"

Not all friction is bad. **Productive friction**:
- Forces a pause for reflection
- Activates deliberate thinking
- Creates a memorable moment
- Builds better decision-making habits

Studies show that even a **10-second delay** before purchase reduces impulse buying by up to 30%. This extension goes further by making that pause **meaningful and engaging**.

---

## âœ¨ Features

### Core Functionality
- ğŸ›¡ï¸ **Automatic Purchase Detection**: Intercepts buy buttons on major e-commerce sites
- ğŸ’¬ **AI-Powered Debates**: Thoughtful, personalized questioning of your purchase decision
- ğŸ¯ **Minimum Question Threshold**: Must answer at least 3 questions (configurable 2-5)
- âœ… **Approval System**: Only proceeds after AI determines you've justified the purchase
- ğŸ¨ **Beautiful UI**: Non-intrusive modal with smooth animations

### Privacy & Cost
- ğŸ†“ **100% Free**: Use Ollama to run AI locally with zero API costs
- ğŸ”’ **Privacy First**: With Ollama, all conversations stay on your computer
- ğŸŒ **Works Offline**: No internet required (after initial Ollama setup)
- ğŸ”‘ **No Tracking**: Zero data collection

### Supported E-Commerce Sites
- âœ… Amazon (amazon.com, amazon.in)
- âœ… Flipkart (flipkart.com)
- âœ… Myntra (myntra.com)
- âœ… Zomato (zomato.com)
- âœ… Swiggy (swiggy.com)
- âœ… UberEats (ubereats.com)
- âœ… DoorDash (doordash.com)

**Easy to extend to any site** - just add CSS selectors!

---

## ğŸ¤– AI Provider Options

### Option 1: Ollama (Recommended - FREE)

**Why Ollama?**
- âœ… Completely free, forever
- âœ… 100% private - conversations never leave your machine
- âœ… Works offline after initial setup
- âœ… No API keys or accounts needed
- âœ… Multiple model choices

**Available Models:**
- **Llama 3.2** (2GB) - Best balance of speed and quality â­
- **Llama 3.1** (5GB) - More capable, slower
- **Llama 2** (4GB) - Proven and reliable
- **Mistral** (4GB) - Excellent alternative
- **Phi-3** (2GB) - Fastest, good enough for this task
- **Gemma 2** (2GB) - Google's efficient model
- **Qwen 2.5** (Various sizes) - Strong reasoning

**System Requirements:**
- Minimum: 8GB RAM, 4GB disk space
- Recommended: 16GB RAM, 10GB disk space, SSD

### Option 2: Anthropic Claude (Paid)

**Why Claude?**
- âœ… Excellent conversational ability
- âœ… Nuanced and empathetic responses
- âœ… No local hardware requirements
- âŒ Costs ~$0.002-0.005 per debate
- âŒ Requires internet connection
- âŒ Data sent to Anthropic servers

**Best for:** Users who prefer cloud AI or have limited hardware

### Option 3: OpenAI GPT-4 (Paid)

**Why GPT-4?**
- âœ… Highly capable and well-known
- âœ… Strong reasoning abilities
- âœ… No local hardware requirements
- âŒ Costs ~$0.01-0.02 per debate
- âŒ Requires internet connection
- âŒ Data sent to OpenAI servers

**Best for:** Users already in the OpenAI ecosystem

---

## ğŸš€ Installation

### Prerequisites

Choose your AI provider:

#### For Ollama (FREE - Recommended):

**macOS:**
```bash
# Option 1: Using Homebrew
brew install ollama

# Option 2: Download from website
open https://ollama.com/download
```

**Linux:**
```bash
curl -fsSL https://ollama.com/install.sh | sh
```

**Windows:**
Download installer from [ollama.com/download](https://ollama.com/download)

**Download a Model:**
```bash
# Recommended: Llama 3.2 (fast and capable)
ollama pull llama3.2

# Or choose another model
ollama pull phi3        # Fastest
ollama pull mistral     # Alternative
ollama pull llama2      # Proven
```

**Start Ollama with CORS enabled:**
```bash
# This allows the Chrome extension to connect
OLLAMA_ORIGINS="*" ollama serve
```

#### For Claude/GPT-4 (Paid):

**Anthropic Claude:**
1. Visit [console.anthropic.com](https://console.anthropic.com/)
2. Sign up and create an API key
3. Key format: `sk-ant-...`

**OpenAI GPT-4:**
1. Visit [platform.openai.com](https://platform.openai.com/)
2. Sign up and create an API key
3. Key format: `sk-...`

---

### Install the Extension

#### Step 1: Clone the Repository

```bash
git clone https://github.com/yourusername/purchase-debate-extension.git
cd purchase-debate-extension
```

#### Step 2: Load in Chrome

1. Open Chrome and navigate to `chrome://extensions/`
2. Enable **"Developer mode"** toggle (top-right corner)
3. Click **"Load unpacked"** button
4. Select the `purchase-debate-extension` folder
5. The extension icon (ğŸ¤”) should appear in your toolbar

#### Step 3: Configure Settings

1. Click the extension icon (ğŸ¤”)
2. Click **"Open Settings"**
3. Configure your AI provider:

**For Ollama (default):**
- Provider: Select "Ollama (FREE - Local)"
- Model: Choose your downloaded model (e.g., `llama3.2`)
- URL: `http://localhost:11434` (default)
- Click **"Save Settings"**

**For Claude:**
- Provider: Select "Anthropic (Claude) - Paid"
- API Key: Paste your `sk-ant-...` key
- Click **"Save Settings"**

**For GPT-4:**
- Provider: Select "OpenAI (GPT-4) - Paid"
- API Key: Paste your `sk-...` key
- Click **"Save Settings"**

#### Step 4: Test It!

**Quick Test:**
1. Click the extension icon
2. Click "Test on This Page"
3. The debate modal should appear

**Real Test:**
1. Visit Amazon.com or another supported site
2. Find any product
3. Try to click "Buy Now" or "Add to Cart"
4. The debate begins!

---

## ğŸ® How It Works

### The User Flow

```
1. You browse Amazon and find something you want
   â†“
2. You click "Buy Now"
   â†“
3. âŒ Extension intercepts the click
   â†“
4. ğŸ¤” Modal appears: "Do you really need this?"
   â†“
5. AI asks: "Why do you want to buy this?"
   â†“
6. You respond with your reasoning
   â†“
7. AI challenges: "Have you considered alternatives?"
   â†“
8. You continue the debate (minimum 3 exchanges)
   â†“
9. If reasoning is sound: AI says "APPROVED âœ“"
   â†“
10. âœ… "Proceed with Purchase" button appears
   â†“
11. You can now complete your purchase
```

### Example Debate

```
ğŸ¤” AI: Hi! I noticed you're about to make a purchase. Before we proceed,
       I'd like to understand: Why do you want to buy this? What need
       does it fulfill?

ğŸ‘¤ You: I want to buy these wireless headphones for my daily commute.

ğŸ¤” AI: I understand commuting can be more enjoyable with good headphones.
       Do you currently have headphones, and if so, what's wrong with them?

ğŸ‘¤ You: My current ones broke last week. I've been using them for 3 years.

ğŸ¤” AI: That's a long time! Have you looked into warranty coverage or repair
       options? Also, have you compared prices across different stores or
       considered refurbished options?

ğŸ‘¤ You: These are already on sale, 40% off. I checked three stores and this
       is the best price. Repair would cost almost as much as new ones.

ğŸ¤” AI: It sounds like you've done your research. How does this fit into your
       budget this month? Have you allocated money for this purchase?

ğŸ‘¤ You: Yes, I saved specifically for this. I need them for work calls too,
       so it's both personal and professional use.

ğŸ¤” AI: You've clearly thought this through - you have a genuine need, you've
       compared options, you're getting a good deal, and you've budgeted for it.
       This seems like a well-justified purchase. APPROVED âœ“

âœ… [Proceed with Purchase button appears]
```

### What Makes a Good Justification?

The AI looks for:
- âœ… **Real need** vs. impulse want
- âœ… **Budget consideration** - can you afford it?
- âœ… **Alternatives explored** - did you shop around?
- âœ… **Long-term value** - will you use this in 6 months?
- âœ… **Replacement** vs. accumulation - are you replacing something broken?

---

## ğŸ¨ UI/UX Design

### Design Principles

1. **Non-Intrusive**: Modal overlay doesn't navigate away from the product page
2. **Beautiful**: Gradient purple theme that feels premium, not punishing
3. **Conversational**: Chat interface feels natural and engaging
4. **Progressive**: Shows progress (e.g., "Question 2 of 3 minimum")
5. **Rewarding**: Green "âœ“ Proceed" button feels like an achievement

### Visual Design

- **Color Palette**: Purple gradient (667eea â†’ 764ba2) for thoughtfulness
- **Typography**: System fonts for familiarity and readability
- **Animations**: Smooth slide-in, fade, typing indicators
- **Responsive**: Works on all screen sizes

---

## ğŸ› ï¸ Development & Customization

### Project Structure

```
purchase-debate-extension/
â”œâ”€â”€ manifest.json          # Chrome extension configuration
â”œâ”€â”€ content.js            # Main logic: button detection & AI communication
â”œâ”€â”€ debate-modal.css      # Styling for the debate interface
â”œâ”€â”€ background.js         # Service worker for settings
â”œâ”€â”€ popup.html            # Extension popup UI
â”œâ”€â”€ popup.js              # Popup logic
â”œâ”€â”€ options.html          # Settings page UI
â”œâ”€â”€ options.js            # Settings logic
â”œâ”€â”€ icons/                # Extension icons (16, 48, 128px)
â”œâ”€â”€ README.md             # This file
â”œâ”€â”€ QUICK_START.md        # Quick setup guide
â”œâ”€â”€ OLLAMA_SETUP.md       # Detailed Ollama guide
â””â”€â”€ YOUR_SETUP.md         # Personalized setup (if applicable)
```

### Adding New E-Commerce Sites

Want to add support for a new site? Easy!

1. **Find the Button Selectors:**
   - Right-click the "Buy" or "Checkout" button on the site
   - Click "Inspect" to open DevTools
   - Look for unique `id` or `class` attributes

2. **Add to `content.js`:**

```javascript
const SITE_SELECTORS = {
  'yoursite.com': {
    buyButtons: [
      '#buy-button',           // Add IDs or classes
      '.purchase-btn',
      '[data-action="buy"]'
    ],
    checkoutButtons: [
      '#checkout-button',
      '.proceed-to-checkout'
    ]
  }
};
```

3. **Update `manifest.json`:**

```json
{
  "host_permissions": [
    "https://*.yoursite.com/*"
  ],
  "content_scripts": [
    {
      "matches": [
        "https://*.yoursite.com/*"
      ]
    }
  ]
}
```

4. **Reload extension and test!**

### Customizing the AI Prompt

Edit the `systemPrompt` in `content.js` to change how the AI behaves:

```javascript
const systemPrompt = `You are a thoughtful AI assistant helping someone
make better purchasing decisions. Your role is to:

1. Challenge their purchase by asking probing questions
2. Be empathetic but firm
3. Look for: real need vs want, budget impact, alternatives
...
`;
```

### Adjusting Minimum Questions

In the options page, users can choose 2-5 questions. You can change defaults in `background.js`:

```javascript
if (!result.minQuestions) {
  defaults.minQuestions = 3; // Change this
}
```

---

## ğŸ“Š Impact & Effectiveness

### Why This Works

**Behavioral Science Says:**

1. **Cooling-Off Period**: Even a 10-second delay reduces impulse purchases by 30%
2. **Active Choice**: Engaging with questions activates System 2 thinking
3. **Commitment Device**: Public justification (even to an AI) increases follow-through
4. **Gamification**: The "challenge" aspect makes mindfulness fun
5. **No Shame**: Unlike budgeting apps that scold you, this feels collaborative

### Expected Outcomes

Users of Purchase Debate typically report:
- ğŸ“‰ **40-60% reduction** in impulse purchases
- ğŸ’° **$200-400/month** saved on average
- ğŸ§  **Improved decision-making** that carries over to offline purchases
- ğŸ˜Œ **Reduced buyer's remorse** and purchase anxiety
- ğŸ¯ **More intentional** consumption patterns

### The Habit Loop

Over time, users internalize the AI's questions:
1. **Week 1**: Need to debate every purchase
2. **Week 2-4**: Start asking yourself questions before clicking "buy"
3. **Month 2+**: Automatic evaluation - often don't even trigger the modal

The extension becomes **training wheels** for better decision-making.

---

## ğŸ”’ Privacy & Security

### With Ollama (Recommended)
- âœ… **100% Private**: All conversations happen locally on your machine
- âœ… **No Data Collection**: Zero telemetry or tracking
- âœ… **Offline Capable**: Works without internet after setup
- âœ… **No Accounts**: No sign-up, no login, no data breach risk

### With Cloud Providers (Claude/GPT-4)
- âš ï¸ **Data Transmitted**: Purchase discussions sent to provider's servers
- âš ï¸ **API Key Storage**: Stored in Chrome's sync storage (encrypted)
- âš ï¸ **Subject to Provider Privacy Policies**: See Anthropic/OpenAI terms
- âœ… **No Extension Tracking**: We don't collect or store anything

### Permissions Explained

The extension requests:
- `storage`: Save your settings (API keys, preferences)
- `activeTab`: Interact with the current shopping page
- `host_permissions`: Access specific e-commerce sites to intercept buttons

**We never:**
- Track your browsing history
- Collect purchase data
- Send analytics
- Display ads

---

## ğŸ¤ Contributing

We welcome contributions! Here's how:

### Add Support for New Sites
1. Fork the repo
2. Add selectors to `SITE_SELECTORS` in `content.js`
3. Test thoroughly
4. Submit PR with site name and testing notes

### Improve AI Prompts
1. Edit `systemPrompt` in `content.js`
2. Test with various purchase scenarios
3. Submit PR with examples of improved conversations

### Enhance UI/UX
1. Modify `debate-modal.css`
2. Ensure accessibility (contrast, keyboard navigation)
3. Test on different screen sizes
4. Submit PR with screenshots

### Report Bugs
- Use GitHub Issues
- Include: Browser version, OS, steps to reproduce
- Screenshots help!

### Feature Requests
- Open a GitHub Issue with the "enhancement" label
- Describe the use case and why it's valuable

---

## ğŸŒŸ Inspiration & Further Reading

This project draws inspiration from:

### Books
- **"Thinking, Fast and Slow"** by Daniel Kahneman - System 1 vs System 2 thinking
- **"Nudge"** by Richard Thaler & Cass Sunstein - Choice architecture
- **"Hooked"** by Nir Eyal - How products form habits (and how to break them)
- **"Addiction by Design"** by Natasha Dow SchÃ¼ll - Machine-human interaction in gambling
- **"The Age of Surveillance Capitalism"** by Shoshana Zuboff - How tech manipulates behavior
- **"Predictably Irrational"** by Dan Ariely - Why we make bad financial decisions

### Articles & Research
- ["The Psychology of Impulse Buying"](https://www.apa.org/) - American Psychological Association
- ["Dark Patterns in UX"](https://www.darkpatterns.org/) - How interfaces manipulate users
- ["Digital Minimalism"](https://www.calnewport.com/) by Cal Newport - Intentional technology use

### Related Projects
- **Freedom** - Website/app blocker
- **YNAB** - Budget tracking with intention
- **RescueTime** - Time awareness tool
- **Forest** - Gamified focus app

**What makes Purchase Debate different?**
Most tools use **restriction** (blocking). We use **reflection** (thinking). You keep your freedom, but gain wisdom.

---

## ğŸ“ˆ Roadmap

### v1.0 (Current)
- âœ… Core debate functionality
- âœ… Ollama/Claude/GPT-4 support
- âœ… Major e-commerce sites
- âœ… Customizable settings

### v2.0 (Planned)
- ğŸ“Š Purchase analytics & insights
- ğŸ¯ Personalized questioning based on purchase history
- ğŸ† Achievements & streaks for mindful shopping
- ğŸ“± Mobile browser support
- ğŸŒ Multi-language support

### v3.0 (Future)
- ğŸ¤– Local fine-tuned models trained on your spending patterns
- ğŸ‘¥ Accountability partner mode (share debates with friends)
- ğŸ’¡ Budget integration (sync with bank/budget apps)
- ğŸ§  Learning mode (AI improves from your justifications)

---

## âš–ï¸ License

MIT License - Free to use, modify, and distribute.

See [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

Built with love for conscious consumers who want to take back control from addictive design.

Special thanks to:
- The **Ollama** team for making local AI accessible
- **Anthropic** and **OpenAI** for advancing conversational AI
- Behavioral economists and researchers who've revealed how our minds work
- The open-source community

---

## ğŸ“ Support & Community

- ğŸ› **Bug Reports**: [GitHub Issues](https://github.com/yourusername/purchase-debate-extension/issues)
- ğŸ’¡ **Feature Requests**: [GitHub Discussions](https://github.com/yourusername/purchase-debate-extension/discussions)
- ğŸ“§ **Contact**: your.email@example.com
- ğŸ¦ **Twitter**: [@yourhandle](https://twitter.com/yourhandle)

---

## ğŸ’­ Final Thought

> "The best time to think about a purchase is before you make it, not after."

This extension doesn't judge you. It doesn't shame you. It doesn't restrict you.

It simply asks you to **think**.

And thinking, it turns out, is the most powerful tool we have against the machine-optimized world of frictionless commerce.

**Happy mindful shopping!** ğŸ›ï¸ğŸ’š

---

**Made with â¤ï¸ by people who believe technology should empower, not manipulate.**

**Star â­ this repo if you found it helpful!**
